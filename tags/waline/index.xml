<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Waline on luoboQAQ</title><link>https://lbqaq.top/tags/waline/</link><description>Recent content in Waline on luoboQAQ</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 21 Oct 2021 11:30:00 +0800</lastBuildDate><atom:link href="https://lbqaq.top/tags/waline/index.xml" rel="self" type="application/rss+xml"/><item><title>‰∏∫ÂçöÂÆ¢Ê∑ªÂä†ËØÑËÆ∫Á≥ªÁªü</title><link>https://lbqaq.top/p/waline/</link><pubDate>Sat, 21 Aug 2021 15:37:44 +0800</pubDate><guid>https://lbqaq.top/p/waline/</guid><description>&lt;img src="https://lbqaq.top/p/waline/78502982.webp" alt="Featured image of post ‰∏∫ÂçöÂÆ¢Ê∑ªÂä†ËØÑËÆ∫Á≥ªÁªü" />&lt;p>‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂçöÂÆ¢ÔºåÊÄé‰πàËÉΩÂ∞ëÁöÑ‰∫ÜËØÑËÆ∫Á≥ªÁªüÂë¢„ÄÇËØÑËÆ∫ÁöÑÂÆûÁé∞Â∑≤ÁªèÊúâËÆ∏ËÆ∏Â§öÂ§öÁöÑÊñπÊ≥ï‰∫ÜÔºåÊåëÊù•ÊåëÂéªÔºåËøòÊòØÈÄâÊã©‰∫ÜWaline„ÄÇ&lt;/p>
&lt;p>‰∏ÄÂºÄÂßãÊàëÊòØÈááÁî®ÂÆòÊñπÊé®ËçêÁöÑLeanCloud+VercelÁöÑÊñπÂºèËøõË°åÈÉ®ÁΩ≤ÁöÑÔºåÁªìÊûúÊ≠•È™§ÂÖ®ÈÉ®Ëµ∞ÂÆåÂêéÊâçÂèëÁé∞VercelÂ∑≤ÁªèÂú®ÂõΩÂÜÖË¢´Â¢ô‰∫ÜÔºå‰∏çÁßëÂ≠¶Ê†πÊú¨‰∏ä‰∏çÂéªüòá„ÄÇÊÄª‰∏çËÉΩË¶ÅÊ±ÇÁî®Êà∑ËøòË¶ÅÂºÄÊ¢ØÂ≠êÊâçËÉΩËØÑËÆ∫ÂêßÔºåÊâÄÂπ∏ÂÆòÊñπÊèê‰æõ‰∫ÜÂÖ∂‰ªñÁöÑÈÉ®ÁΩ≤ÊñπÂºèÔºåÂõ†‰∏∫ÊàëÊâç‰π∞‰∫ÜËá™Â∑±ÁöÑÊúçÂä°Âô®~~Ôºà‰∏çÊ¶®Âπ≤ÊÄé‰πàË°åÂë¢Ôºâ~~ÔºåÊâÄ‰ª•Â∞±ÈÄâÊã©Êú¨Âú∞ÈÉ®ÁΩ≤+SQLliteÁöÑÊñπÂºè‰∫Ü„ÄÇ&lt;/p>
&lt;h2 id="ÈÉ®ÁΩ≤Ê≠•È™§">&lt;a href="#%e9%83%a8%e7%bd%b2%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>ÈÉ®ÁΩ≤Ê≠•È™§
&lt;/h2>&lt;h3 id="ÂÆâË£Önodejs">&lt;a href="#%e5%ae%89%e8%a3%85nodejs" class="header-anchor">&lt;/a>ÂÆâË£Önode.js
&lt;/h3>&lt;p>Áî±‰∫éWalineÁöÑÊúçÂä°Á´ØÊòØÁî±jsÂÜôÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅÂÆâË£Önode.js&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Âú®&lt;a class="link" href="http://nodejs.cn/download/" target="_blank" rel="noopener"
>nodejs‰∏≠ÊñáÁΩë&lt;/a>ÊâæÂà∞ÈúÄË¶ÅÁöÑÁâàÊú¨ÔºåÈÄâÊã©ÈòøÈáå‰∫ëÈïúÂÉèÔºåÂ∞Ü‰∏ãËΩΩÈìæÊé•Â§çÂà∂‰∏ãÊù•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËøûÊé•ÊúçÂä°Âô®ÔºåÈÄâÊã©nodejsÁöÑÂÆâË£ÖÁõÆÂΩïÔºåËøôÈáåÊàëÂÆâË£ÖÂú®&lt;code>/usr/local/bin/&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /usr/local/bin/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>‰∏ãËΩΩÂÆâË£ÖÂåÖÂà∞Êú¨Âú∞&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">wget https://npm.taobao.org/mirrors/node/v14.17.5/node-v14.17.5-linux-x64.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>Ëß£Âéã&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">tar -xvf node-v14.17.5-linux-x64.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ÈáçÂëΩÂêçÁõÆÂΩï&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">mv node-v14.17.5-linux-x64 nodejs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>Ê∑ªÂä†ÁõÆÂΩïÂà∞Á≥ªÁªüÂèòÈáè&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/profile.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim custom.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Âú®Êñá‰ª∂Êú´Â∞æÊ∑ªÂä†&lt;code>export PATH=$PATH:/usr/local/bin/nodejs/bin&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÊµãËØïÔºåËæìÂÖ•‰∏ãÈù¢3Êù°ÂëΩ‰ª§ÔºåÂ¶ÇÊûú‰∏çÊä•ÈîôÂàôÂÆâË£ÖÊàêÂäü„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">node -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npx -v
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ÔºàÂèØÈÄâÔºâÂÆâË£Öcnpm&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">npm install -g cnpm --registry&lt;span class="o">=&lt;/span>https://registry.npm.taobao.org
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="ÂÆâË£ÖwalineÊúçÂä°Á´Ø">&lt;a href="#%e5%ae%89%e8%a3%85waline%e6%9c%8d%e5%8a%a1%e7%ab%af" class="header-anchor">&lt;/a>ÂÆâË£ÖWalineÊúçÂä°Á´Ø
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>ÂÆâË£ÖwalineÁöÑÊúçÂä°Á´Ø&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">npm install -g @waline/vercel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ÈÖçÁΩÆÊï∞ÊçÆÂ∫ì„ÄÇËøôÈáåÊàëÈááÁî®ÁöÑÊòØSQLiteÔºåÂè™ÈúÄË¶Å‰∏ãËΩΩ &lt;a class="link" href="https://github.com/walinejs/waline/blob/main/assets/waline.sqlite" target="_blank" rel="noopener"
>waline.sqlite&lt;/a> Êñá‰ª∂Ëá≥ÂêàÈÄÇÁöÑ‰ΩçÁΩÆ„ÄÇ&lt;/p>
&lt;p>ÂÖ∂‰ªñÁöÑÊï∞ÊçÆÂ∫ìÂèØ‰ª•Áúã&lt;a class="link" href="https://waline.js.org/guide/server/databases.html" target="_blank" rel="noopener"
>ÂÆòÊñπÊñáÊ°£&lt;/a>Êù•ÈÖçÁΩÆ„ÄÇ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè„ÄÇ&lt;/p>
&lt;p>ËøôÈáåÊàëÈÄâÊã©Êñ∞Âª∫&lt;code>waline.sh&lt;/code>ÔºåÊñπ‰æøÊó•ÂêéÁª¥Êä§„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/profile.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim waline.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">SQLITE_PATH&lt;/span>&lt;span class="o">=&lt;/span>/home/luobo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">JWT_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>eqdVMaEwd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>SQLITE_PATHÔºöË°®Á§∫SQLiteÊñá‰ª∂ÁöÑ‰ΩçÁΩÆ„ÄÇ&lt;/li>
&lt;li>JWT_TOKENÔºöÈöèÊú∫‰∏Ä‰∏≤Â≠óÁ¨¶‰∏≤Â∞±Ë°å„ÄÇ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÂêØÂä®Ê®°Âùó&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /usr/local/bin/nodejs/lib
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node node_modules/@waline/vercel/vanilla.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="ÈÖçÁΩÆnginxÂèç‰ª£">&lt;a href="#%e9%85%8d%e7%bd%aenginx%e5%8f%8d%e4%bb%a3" class="header-anchor">&lt;/a>ÈÖçÁΩÆnginxÂèç‰ª£
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#waline
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">443&lt;/span> &lt;span class="s">ssl&lt;/span> &lt;span class="s">http2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">waline.lbqaq.top&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">if&lt;/span> &lt;span class="s">(&lt;/span>&lt;span class="nv">$server_port&lt;/span> &lt;span class="s">!~&lt;/span> &lt;span class="mi">443&lt;/span>&lt;span class="s">)&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">rewrite&lt;/span> &lt;span class="s">^(/.*)&lt;/span>$ &lt;span class="s">https://&lt;/span>&lt;span class="nv">$host$1&lt;/span> &lt;span class="s">permanent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate&lt;/span> &lt;span class="s">cert/waline.lbqaq.top.pem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate_key&lt;/span> &lt;span class="s">cert/waline.lbqaq.top.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_session_timeout&lt;/span> &lt;span class="mi">5m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_ciphers&lt;/span> &lt;span class="s">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_protocols&lt;/span> &lt;span class="s">TLSv1&lt;/span> &lt;span class="s">TLSv1.1&lt;/span> &lt;span class="s">TLSv1.2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_prefer_server_ciphers&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://127.0.0.1:8360&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Host&lt;/span> &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Real-IP&lt;/span> &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Forwarded-For&lt;/span> &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Forwarded-Proto&lt;/span> &lt;span class="nv">$scheme&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">REMOTE-HOST&lt;/span> &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">add_header&lt;/span> &lt;span class="s">X-Cache&lt;/span> &lt;span class="nv">$upstream_cache_status&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># cache
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">add_header&lt;/span> &lt;span class="s">Cache-Control&lt;/span> &lt;span class="s">no-cache&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">expires&lt;/span> &lt;span class="s">12h&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="Âú®hugo‰∏≠ÂêØÁî®waline">&lt;a href="#%e5%9c%a8hugo%e4%b8%ad%e5%90%af%e7%94%a8waline" class="header-anchor">&lt;/a>Âú®hugo‰∏≠ÂêØÁî®Waline
&lt;/h3>&lt;p>Áî±‰∫éÊàëÁî®ÁöÑ‰∏ªÈ¢òÂ∑≤ÁªèÊîØÊåÅWalineËØÑËÆ∫ÔºåÊâÄ‰ª•Âè™ÈúÄË¶ÅÂ°´ÂÖ•&lt;code>serverURL&lt;/code>Â∞±Ë°å‰∫Ü„ÄÇ&lt;/p>
&lt;h3 id="Ê∑ªÂä†qqÊé®ÈÄÅÂèØÈÄâ">&lt;a href="#%e6%b7%bb%e5%8a%a0qq%e6%8e%a8%e9%80%81%e5%8f%af%e9%80%89" class="header-anchor">&lt;/a>Ê∑ªÂä†QQÊé®ÈÄÅÔºàÂèØÈÄâÔºâ
&lt;/h3>&lt;p>ÂÆòÊñπÊèê‰æõ‰∫ÜÂõõÁßçÈÄöÁü•ÊñπÊ≥ïÔºåÂàÜÂà´‰∏∫ÈÇÆÁÆ±„ÄÅÂæÆ‰ø°„ÄÅQQ„ÄÅTelegram„ÄÇ&lt;/p>
&lt;p>ÈÇÆÁÆ±Âü∫Êú¨‰∏ç‰ºöÂéªÁúãÔºåTelegramÊ≤°ÁßëÂ≠¶‰πü‰∏ä‰∏çÂéªÔºåÂæÆ‰ø°Áî±‰∫éÊòØËµ∞ÁöÑServerÈÖ±ÔºåÊ≤°ÊúâÊçêËµ†‰∏ÄÂ§©Â∞±ÊîØÊåÅ5Êù°Ê∂àÊÅØ„ÄÇ&lt;/p>
&lt;p>ÊúÄÁªàËøòÊòØÂÜ≥ÂÆöÈááÁî®&lt;a class="link" href="https://qmsg.zendee.cn" target="_blank" rel="noopener"
>Qmsg ÈÖ±&lt;/a>„ÄÇ&lt;/p>
&lt;p>Ê≥®ÂÜåÂ∞±‰∏çÂú®ËøôÂ±ïÂºÄ‰∫ÜÔºåÂÖ∑‰ΩìÂÜô‰∏Ä‰∏ãÁéØÂ¢ÉÂèòÈáèÁöÑÈÖçÁΩÆ„ÄÇ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/profile.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim waline.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">QMSG_KEY&lt;/span>&lt;span class="o">=&lt;/span>xxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">QQ_ID&lt;/span>&lt;span class="o">=&lt;/span>xxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">AUTHOR_EMAIL&lt;/span>&lt;span class="o">=&lt;/span>xxxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">SITE_NAME&lt;/span>&lt;span class="o">=&lt;/span>Blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">SITE_URL&lt;/span>&lt;span class="o">=&lt;/span>lbqaq.top
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="Ë∏©Âùë">&lt;a href="#%e8%b8%a9%e5%9d%91" class="header-anchor">&lt;/a>Ë∏©Âùë
&lt;/h2>&lt;p>Êú¨‰ª•‰∏∫ÂêØÁî®ËØÑËÆ∫ÊòØ‰∏Ä‰ª∂ÂæàÁÆÄÂçïÁöÑ‰∫ãÔºåÁªìÊûúËä±‰∫ÜÊï¥‰∏™‰∏ãÂçàÂä†Êôö‰∏äÔºåË∏©‰∫ÜÂ•ΩÂ§öÂ•ΩÂ§öÂùë„ÄÇÂú®ËøôÈáåÂ∞±ÊääÊàëË∏©ÁöÑÂùëËÆ∞ÂΩï‰∏ãÊù•ÔºåÈÅøÂÖç‰πãÂêéÂá∫Áé∞‰∏ÄÊ†∑ÁöÑÈóÆÈ¢ò„ÄÇ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>npm install -g @waline/vercel&lt;/code>Êä•Èîô&lt;/p>
&lt;p>‰ΩøÁî®&lt;code>cnpm&lt;/code>ËøõË°åÂÆâË£Ö&lt;/p>
&lt;p>&lt;strong>2021/10/21Êõ¥Êñ∞Ôºö&lt;/strong>&lt;/p>
&lt;p>Êõ¥Êñ∞Á≥ªÁªüÂêéÂÜçÂ∞ùËØïÂÆâË£ÖÊó†ËÆ∫ÊòØ&lt;code>npm&lt;/code>ËøòÊòØ&lt;code>cnpm&lt;/code>ÈÉΩÊó†Ê≥ïÂÆâË£ÖÔºåÊïÖ‰ΩøÁî®DockerËøõË°åÂÆâË£ÖÂíåËøêË°å&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">docker run -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">SQLITE_PATH&lt;/span>&lt;span class="o">=&lt;/span>/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">JWT_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>xxx &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">QMSG_KEY&lt;/span>&lt;span class="o">=&lt;/span>xxxx &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">QQ_ID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">123&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">AUTHOR_EMAIL&lt;/span>&lt;span class="o">=&lt;/span>xxx@xx.com &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">SITE_NAME&lt;/span>&lt;span class="o">=&lt;/span>Blog &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">SITE_URL&lt;/span>&lt;span class="o">=&lt;/span>lbqaq.top &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 8360:8360 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /home/admin/waline:/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --name&lt;span class="o">=&lt;/span>waline &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> lizheming/waline
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ÊÉ≥‰ΩøÁî®&lt;code>lbqaq.top/waline/&lt;/code>ËøôÊ†∑ÁöÑÈìæÊé•Êù•ËÆæÁΩÆÊúçÂä°Á´Ø&lt;/p>
&lt;p>Áõ¥Êé•Êä•404ÈîôËØØÔºåËøòÊòØÈÄâÊã©‰∏äÊñá‰∏≠ÁöÑÂ≠êÂüüÂêçÊñπÊ≥ï&lt;/p>
&lt;/li>
&lt;li>
&lt;p>nginxÊèêÁ§∫Ê≤°ÊâæÂà∞http2Ê®°Âùó&lt;/p>
&lt;p>Âú®ÂÆâË£ÖnginxÊó∂Âä†‰∏ä&lt;code>--with-http_v2_module&lt;/code>Â¶ÇÊûúÂ∑≤ÁªèÂÆâË£ÖÂ•Ω‰∫ÜÔºåÂèØ‰ª•ÈáçÊñ∞ÂÆâË£Ö‰∏ÄÈÅç&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËÆæÁΩÆ‰∫Ü&lt;code>server_name waline.lbqaq.top&lt;/code>ËøòÊòØË∑≥ËΩ¨È¶ñÈ°µ&lt;/p>
&lt;p>Â¢ûÂä†‰∏Ä‰∏™ÈªòËÆ§ÁöÑserverÔºåÂ∞ÜÊâÄÊúâ‰∏çÂåπÈÖçÁöÑÈìæÊé•ÈòªÊ≠¢&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span> &lt;span class="s">default_server&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">return&lt;/span> &lt;span class="mi">444&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>nginxÈÖçÁΩÆ‰∏çÁîüÊïà&lt;/p>
&lt;p>Â¶ÇÊûúÈÖçÁΩÆÊ≤°ÊúâÈóÆÈ¢òÔºåÈô§‰∫Ü&lt;code>nginx -s reload&lt;/code>ËøòÂèØ‰ª•Â∞ùËØïÈáçÂêØnginx&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="ÂèÇËÄÉÈìæÊé•">&lt;a href="#%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" class="header-anchor">&lt;/a>ÂèÇËÄÉÈìæÊé•
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://waline.js.org/guide/get-started.html" target="_blank" rel="noopener"
>WalineÂÆòÊñπÊñáÊ°£&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.docs4dev.com/docs/zh/nginx/current/reference/" target="_blank" rel="noopener"
>nginx‰∏≠ÊñáÊñáÊ°£&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>